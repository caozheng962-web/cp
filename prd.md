# 一、产品背景与目标

## 1.1 背景

- 目前有 4 个直播间类型：大时尚、大商超、家电家具、3C 数码。
- 每个直播间只能导出整场 MP4 录屏，无法导出单个 SKU 视频。
- 每个直播间视频中包含约 20 个 SKU（不同时间段）。
- 计划组织 12 名评测员，根据统一的指标对每个直播间中每个 SKU 对应的 KT 板表现进行评测。

## 1.2 目标

- 搭建一个简单的在线测评网站，解决：
    - 评测员可在线观看直播录屏，按 SKU 完成 KT 板评测；
    - 数据自动汇总，支持按直播间、SKU、问题类型查看表现；
- 支持每个 SKU 被多人评测，统计方式为“问题次数叠加”。

---

# 二、角色与使用场景

## 2.1 角色

- 管理员（你/运营）：
    - 配置直播间、SKU 信息（名称、价格等）
    - 上传直播间视频
    - 查看数据看板
- 评测员（12 人）：
    - 选择直播间
    - 观看直播间视频
    - 按 SKU 填写评测表单
    - 提交评测结果

（不做登录系统，或通过简单内部方式区分评测员；）

## 2.2 使用场景简述

1. 评测员打开网站首页 → 点击 4 个直播间之一 → 进入该直播间评测页。
2. 在直播间评测页，左侧播放视频，右侧显示 SKU 列表。
3. 评测员拖动视频进度条定位到对应 SKU 片段，点击右侧 SKU → 展开表单 → 点击“保存当前 SKU 评测”。
4. 所有 SKU 至少评测一次后，点击页面底部“提交本直播间全部评测”，弹出成功提示。
5. 管理员在“数据看板”入口，查看各直播间、各 SKU 的评测数据表现。

---

# 三、功能模块

## 3.1 首页

### 3.1.1 功能描述

- 显示四大直播间入口和数据看板入口，是整个工具的入口页。

### 3.1.2 页面元素

1）标题区域

- 标题：`直播间 KT 板在线测评工具`

2）直播间入口区

- 四个直播间卡片，布局为 2x2

卡片字段：

- 直播间名称：
    - 大时尚直播间
    - 大商超直播间
    - 家电家具直播间
    - 3C 数码直播间
- 按钮：“进入评测”

交互：

- 点击某直播间卡片或卡片内按钮 → 跳转到对应“直播间评测页”。

3）数据看板入口

- 文案：`查看数据表现`
- 点击 → 进入“数据看板页”。

---

## 3.2 直播间评测页

### 3.2.1 功能描述

- 针对单个直播间，左边播放本直播间 MP4 视频，右边展示该直播间的所有 SKU 列表。
- 评测员在右侧点击 SKU 展开表单，填写评测后点击“保存当前 SKU 评测”。
- 当所有 SKU 至少评测一次后，可以点击页面底部“大按钮”提交本直播间整体评测。

### 3.2.2 页面布局

整体为左右布局 + 底部按钮：

- 顶部：当前直播间信息
- 左侧：视频播放器区域
- 右侧：SKU 列表 + 当前 SKU 的评测表单（折叠展开）
- 底部：提交本直播间全部评测按钮

### 3.2.3 页面详细说明

### A. 顶部区域

字段内容：

- 直播间名称：如 `大时尚直播间 - KT 板评测`

### B. 左侧：视频播放器

功能要求：

- 播放本直播间的录屏 MP4 视频。
- 支持：
    - 播放/暂停
    - 时间进度条，可拖动
    - 当前播放时间 / 总时长显示，例如 `00:12:30 / 01:30:00`
    - 音量调节/静音
    - 快进、慢放选项

说明：

- 暂不强制与 SKU 时间段联动，评测员手动拖动进度条来定位到对应 SKU 段落。

### C. 右侧：SKU 列表 + 评测表单

### 1）SKU 列表

展示当前直播间下的所有 SKU：

表格式样例：

- 每行一个 SKU，包含：
    - SKU 名称（例如：`欧普照明灯具`）
    - 价格（例如：`138 元`）
    - 状态标记（未评测 / 已评测）

UI 示例：

```
[●] 欧普照明灯具  138 元   （未评测）
[●] 美的电风扇    199 元   （已评测）
[●] XX 吸尘器     399 元   （未评测）
...

```

交互：

- 点击某个 SKU 行 → 在该行下方展开评测表单（下拉折叠效果）。
- 若其他 SKU 已展开，则折叠收起，避免页面过长。
- 已评测的 SKU 可加“已评测”标记，如标签或灰色文字。

### 2）评测表单（每个 SKU 对应一份）

当某 SKU 行被点击后，在其下方展开表单。

表单内容：

**(a) 单选项**

1. 问题 1：该 SKU 所在的视频片段整体是否合格？
    - 单选：
        - ○ 合格
        - ○ 不合格
2. 问题 2：该 SKU 的 KT 板视觉是否合格？
    - 单选：
        - ○ 合格
        - ○ 不合格

**(b) 数值项（新增）**

1. 问题 3：**该 SKU 对应的视频片段中，KT 板出现了几次？**
    - 控件形式：数字输入框（只允许输入非负整数）
    - 占位文案示例：`请输入出现次数，如：3`
    - 校验规则：
        - 必填
        - 必须为整数 ≥ 0

**(c) 多选问题标签**

标题：`当前 SKU 存在哪些问题？（可多选）`

选项：

- [ ]  图文不匹配问题
- [ ]  轮播图片问题
- [ ]  无效空闪问题
- [ ]  视频时长问题
- [ ]  用户体验问题
- [ ]  其他问题（需要说明）

> 若勾选“其他问题”，在下方展示一个文本输入框（必填），用于简要说明。
> 

**(d) SKU 级别提交按钮（方案 A 关键点）**

- 按钮文案：`保存当前 SKU 评测`
- 位置：当前 SKU 表单区的底部，明显但不抢夺主提交按钮视觉焦点。

点击逻辑：

1. 校验：
    - 两个单选项必须被选择；
    - 如“其他问题”被勾选，且你希望强制说明，则备注框必填或“其他问题说明”必填。
    - 表单校验失败时，提示红色错误消息。
2. 成功时：
    - 将当前 SKU 的评测结果保存到后端（或本地 + 后端）；
    - 当前 SKU 行状态更新为“已评测”；
    - 可给出轻提示：如 “已保存当前 SKU 评测”。
    - 表单保持展开状态，以便审阅。

注意：

- “保存当前 SKU 评测”是可多次点击的，后一次覆盖前一次数据（即允许修改）。

### D. 底部：提交本直播间全部评测（方案 A）

底部固定一个大按钮区域（悬浮或随页面滚动到最底）。

按钮文案：

- `提交本直播间全部评测`

状态逻辑：

1. 当当前直播间内存在未评测的 SKU（即至少有 1 个 SKU 没有成功点击过“保存当前 SKU 评测”）：
    - 大按钮为“不可点击”状态（置灰），并显示提示文案：
        - 例如：`还有未评测的 SKU，请完成所有 SKU 评测后再提交。`
2. 当当前直播间内所有 SKU 均已至少保存一次评测：
    - 按钮变为高亮可点击状态。

点击事件：

- 点击后弹出确认弹窗：
    
    标题：`提交确认`
    
    文案：`确认提交本直播间所有 SKU 的评测结果？提交后仍可返回本页修改。`
    
    按钮：
    
    - `确认提交`
    - `取消`
- 用户点击“确认提交”后：
    - 向后端发送“本直播间评测提交”记录（可用于标记该评测员已完成该直播间任务）。
    - 返回“提交完成弹窗”。

**提交完成弹窗（你要求的交互）**

- 标题：`已提交完成`
- 文案：`本直播间的评测已提交完成，感谢您的评测！`
- 按钮：
    - `返回首页`
        - 点击 → 回到首页
    - `继续查看本直播间（可修改）`
        - 点击 → 留在当前直播间评测页，保持数据可编辑状态
        - 大按钮仍然可点（允许再次提交，按需求选择是否记录多次提交）

---

## 3.3 数据看板页

### 3.3.1 功能描述

- 提供直观的数据表现展示，包括：
    - 按直播间的整体对比
    - 按直播间 → SKU 的明细
    - 按问题类型的分布情况
    - 每个 SKU 的平均 KT 板出现次数

### 3.3.2 页面结构

可采用 Tab 或分块布局：

- 区块一：直播间总览
- 区块二：SKU 明细
- 区块三：问题类型分布

### A. 直播间总览

展示 4 个直播间的核心指标比较，使用表格 + 简单图表。

表格字段（示例）：

| 直播间 | SKU 数 | 评测总次数 | 视频合格率 | KT 板视觉合格率 | **平均 KT 板出现次数** | 图文不匹配占比 | 轮播图片占比 | 无效空闪占比 | 视频时长问题占比 | 用户体验问题占比 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 大时尚 | 20 | 240 | 80% | 75% | 3.2 | 15% | 5% | 10% | 8% | 12% |
| 大商超 | 20 | 240 | 90% | 85% | 2.1 | 5% | 3% | 3% | 4% | 6% |
| 家电家具 | 20 | 240 | 70% | 60% | 3.4 | 25% | 10% | 18% | 15% | 20% |
| 3C 数码 | 20 | 240 | 88% | 82% | 4.2 | 8% | 4% | 5% | 7% | 10% |

统计口径示例：

- 评测总次数 = 该直播间下所有 SKU 的评测记录数之和
- 视频合格率 = “视频整体合格=是”的记录数 ÷ 评测总次数
- KT 板视觉合格率 = “KT 板视觉合格=是”的记录数 ÷ 评测总次数
- 图文不匹配占比 = 有“图文不匹配问题=1”的记录数 ÷ 评测总次数
- 其他问题项占比同理。
- 每条评测记录有一个字段：`kt_board_appearance_count`（KT 板出现次数，整数 ≥ 0）
- 某直播间的：
    - “平均 KT 板出现次数” = （该直播间全部评测记录的 `kt_board_appearance_count` 之和） ÷（该直播间评测总次数）

图表：

- 可选一张柱状图展示“视频合格率对比”；
- 可选一张柱状图展示“图文不匹配占比对比”。

### B. SKU 明细

支持按直播间筛选，查看该直播间下各 SKU 的详细表现。

筛选区：

- 直播间选择：下拉框（默认显示全部或某一个）
- 可选：品类筛选（如果有）。

表格字段示例：

| SKU 名称 | 价格 | 视频合格率 | KT 板合格率 | 图文不匹配次数 | 轮播图片次数 | **总 KT 板出现次数** | 无效空闪次数 | 视频时长问题次数 | 用户体验问题次数 | 评测总次数 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 欧普照明灯具 | 138 | 75% | 70% | 8 | 2 | 4 | 3 | 2 | 5 | 12 |
| 美的电风扇 | 199 | 90% | 85% | 1 | 0 | 5 | 0 | 1 | 2 | 12 |
| … | … | … | … | … | … |  | … | … | … | … |

交互：

- 支持按“各问题次数”或“合格率”排序，方便找出问题最严重的 SKU。
- 点击某行 SKU，可弹出详情（包含该 SKU 的所有评测记录列表）——可做为二期增强。

**导出：**

- 提供导出按钮：
    - “导出当前列表为 Excel/CSV”

### C. 问题类型分布

展示不同问题类型的总体情况，帮助判断哪类问题最严重。

表格字段示例：

| 问题类型 | 总次数 | 总占比 | 问题最多的直播间 |
| --- | --- | --- | --- |
| 图文不匹配 | 80 | 30% | 家电家具 |
| 轮播图片问题 | 20 | 7% | 大时尚 |
| 无效空闪 | 50 | 18% | 家电家具 |
| 视频时长问题 | 40 | 15% | 大时尚 |
| 用户体验问题 | 80 | 30% | 3C 数码 |

统计口径：

- 总次数 = 所有评测记录中该问题被勾选的次数（叠加计数）
- 总占比 = 该问题类型总次数 ÷ 所有评测记录总次数

可配一张堆叠柱状图：

- X 轴：直播间
- Y 轴：问题次数
- 不同颜色代表不同问题类型。

---

# 四、非功能需求（简要）

- 性能：
    - 单页数据量有限，基本前端渲染即可；
    - 数据看板统计可在后端简单实时聚合。
- 易用性：
    - 页面布局简洁，评测员操作路径尽量短；
    - 关键按钮文案清晰（特别是“保存当前 SKU 评测”和“提交本直播间全部评测”）。
- 可靠性：
    - 考虑评测过程较长，前端可做本地自动草稿存储，避免刷新丢失（可作为增强项）。

---